<html><body>

<script language="javascript" type="text/javascript">
function mousePosition(ev){ 

    if(ev.pageX || ev.pageY){ 
        return {x:ev.pageX, y:ev.pageY}; 
    } 
    return { 
        x:ev.clientX + document.body.scrollLeft - document.body.clientLeft, 
        y:ev.clientY + document.body.scrollTop - document.body.clientTop 
        }; 
} 

function kick(ev){ 
    ev = ev || window.event; 
    var mousePos = mousePosition(ev); 
    var dig_map = document.getElementById('dig_map');  
    rect = dig_map.getBoundingClientRect(); 
    document.getElementById('div1').value = mousePos.x - rect.left; 
    document.getElementById('div2').value = mousePos.y - rect.top; 
} 
  
function mouseMove(ev){ 
ev = ev || window.event; 
var mousePos = mousePosition(ev); 
document.getElementById('div1').value = mousePos.x; 
document.getElementById('div2').value = mousePos.y; 
} 
  
//document.onmousedown = ;
</script>    

<style>

#divt{
 position:absolute;
 background:#CCC;
 top:0px;
 left:0px;
 width:100px;
 height:100px;
 display:none;}
</style>


<div id="divt"></div>

<img id="dig_map" onclick="kick()" src='china.png'/>
<p> x:<input id="div1" />y:<input id="div2" /></p>

</body></html>
